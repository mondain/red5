<?xml version="1.0" encoding="utf-8"?>
<app:BandwidthDetectionApp xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:app="org.red5.flash.bwcheck.app.*" layout="absolute" 
				creationComplete="onAppComplete(event)" width="602" height="250" backgroundColor="#FFFFFF">
	
	<mx:Script>
		<![CDATA[
			import mx.events.FlexEvent;
			
			//import flash.net.NetConnection;
			
			//private var nc:NetConnection;
			//private var serverURL:String = "rtmp://localhost/bwcheck";
			
			public function onAppComplete(event:FlexEvent):void
			{
				/*
				var detect:BandwidthDetection = new BandwidthDetection();
				detect.serverURL = "localhost";
				detect.serverApplication = "bwcheck";
				detect.clientServerService = "bwCheckService.onClientBWCheck";
				detect.serverClientService = "bwCheckService.onServerClientBWCheck";
				detect.ClientServer();*/
				
				
				//nc = new NetConnection();
				//nc.client = this;
				//nc.addEventListener(NetStatusEvent.NET_STATUS, onStatus);
				
				//nc.connect(serverURL);	
			}
			
			public function start():void
			{
				serverURL = host.text;
				serverApplication = "bwcheck";
				clientServerService = "bwCheckService.onClientBWCheck";
				serverClientService = "bwCheckService.onServerClientBWCheck";
				//ClientServer();
				
				ServerClient();
			}
			
			/*
			public function onBWCheck(obj:Object):void
			{
				//trace("Checking Bandwidth");
				log.data = "Checking Bandwidth ..... \n\n";
			}
			
			public function onBWDone(kbitDown:String, deltaDown:String, deltaTime:String, latency:String):void 
			{ 
  				//trace("kbit Down: " + kbitDown + " Delta Down: " + deltaDown + " Delta Time: " + deltaTime + " Latency: " + latency); 
  				log.data += "\n\n kbit Down: " + kbitDown + " Delta Down: " + deltaDown + " Delta Time: " + deltaTime + " Latency: " + latency; 
			} 
			
			private function onStatus(event:NetStatusEvent):void
			{
				trace(event.info.code);
			}*/
			
		]]>
	</mx:Script>
	
	<mx:TextArea x="0" y="39" width="602" height="211" id="txtLog"/>
	<mx:Button x="0" y="9" label="Detect Bandwidth" click="start();"/>
	<mx:TextInput x="174" y="9" width="225" id="host"  text="localhost"/>
	<mx:Text x="136" y="11" text="Host:" width="40"/>
	
	
</app:BandwidthDetectionApp>
