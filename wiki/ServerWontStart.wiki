#summary What to look for when Red5 wont start.

= Introduction =

It can be frustrating when the server wont start, this can be caused due to a lot of factors.

== Wrong Java Version ==

When the code has been compiled with a JDK version newer than the one you are using to execute it, you will see an error similar to this:

{{{
Exception in thread "main" java.lang.UnsupportedClassVersionError: Test : Unsupported major.minor version 51.0
}}}

Here are the current versions with their major / minor identifiers

{{{
Major  Minor      Java version  
45       3           1.0
45       3           1.1
46       0           1.2
47       0           1.3
48       0           1.4
49       0           1.5
50       0           1.6
51       0           1.7
}}}

== Invalid Property ==

This happens when a spring configuration doesn't match the code. In many cases, its a simple fix. Your error will look something like this:

{{{
[INFO] [main] org.springframework.beans.factory.support.DefaultListableBeanFactory - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@467ddc66: defining beans [placeholderConfig,red5.common,red5.core,context.loader,pluginLauncher,tomcat.server]; root of factory hierarchy
Exception org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'red5.common' defined in class path resource [red5.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.context.support.FileSystemXmlApplicationContext]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creati
ng bean with name 'red5.server' defined in class path resource [red5-common.xml]
: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'notifierThreadPoolSize' of bean class [org.red5.server.Server]: Bean property 'notifierThreadPoolSize' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?
}}}

The invalid property is _notifierThreadPoolSize_ in the _red5-common.xml_ file; go to that section and simply remove the property.

{{{
<bean id="red5.server" class="org.red5.server.Server">
    <property name="notifierThreadPoolSize" value="${notifier.threads}"/>
</bean>
}}}

becomes this

{{{
<bean id="red5.server" class="org.red5.server.Server">
</bean>
}}}

== ClassNotFoundException: Launcher ==

When the _Launcher_ cannot be located, it usually means the server jar is missing or misnamed. The Red5 server jar must be named like so until we fix the bootstrap bug: {{{red5-server-1.0.jar}}}

Here is what the error may look like:
{{{
Exception in thread "main" java.lang.ClassNotFoundException: org.red5.server.Launcher
        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:264)
        at org.red5.server.Bootstrap.bootStrap(Bootstrap.java:115)
        at org.red5.server.Bootstrap.main(Bootstrap.java:48)
}}}