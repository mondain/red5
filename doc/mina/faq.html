<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title>MINA - Frequently Asked Questions</title><style type="text/css" media="all">
          @import url("./style/maven-base.css");
          
			    @import url("./style/maven-theme.css");</style><link rel="stylesheet" href="./style/print.css" type="text/css" media="print"></link><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta></head><body class="composite"><div id="banner"><a href="http://directory.apache.org/" id="projectLogo"><img alt="MINA" src="http://directory.apache.org/images/apache-directory-logo.png"></img></a><div class="clear"><hr></hr></div></div><div id="breadcrumbs"><div class="xleft">
                	Last published: 21 October 2005
                  | Doc for 0.8.0</div><div class="xright">
        
        <a href="http://directory.apache.org/" class="externalLink" title="External Link">Directory</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://directory.apache.org/subprojects/apacheds/" class="externalLink" title="External Link">ApacheDS</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://directory.apache.org/subprojects/ldap.html" class="externalLink" title="External Link">LDAP</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://directory.apache.org/subprojects/naming/" class="externalLink" title="External Link">Naming</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://directory.apache.org/subprojects/asn1/" class="externalLink" title="External Link">ASN.1</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://directory.apache.org/subprojects/" class="externalLink" title="External Link">Kerberos</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://directory.apache.org/subprojects/authx/" class="externalLink" title="External Link">AuthX</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://directory.apache.org/subprojects/network/" class="externalLink" title="External Link">MINA</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://directory.apache.org/subprojects/providers.html" class="externalLink" title="External Link">Protocols</a>
      </div><div class="clear"><hr></hr></div></div><div id="leftColumn"><div id="navcolumn"><div id="menuMINA"><h5>MINA</h5><ul><li class="none"><a href="index.html">Overview</a></li><li class="none"><a href="features.html">Features</a></li><li class="none"><a href="testimonials.html">Testimonials</a></li><li class="none"><a href="getting_started.html">Getting Started</a></li><li class="none"><a href="http://svn.apache.org/repository/directory-network/" class="externalLink" title="External Link">Downloads</a></li><li class="none"><strong><a href="faq.html">F.A.Q</a></strong></li><li class="none"><a href="roadmap.html">Roadmap</a></li><li class="none"><a href="http://issues.apache.org/jira/browse/DIRMINA?report=com.atlassian.jira.plugin.system.project:changelog-panel&amp;subset=-1" class="externalLink" title="External Link">Changes</a></li><li class="none"><a href="history.html">History</a></li></ul></div><div id="menuMINA_Community"><h5>MINA Community</h5><ul><li class="none"><a href="mail-lists.html">Mailing List</a></li><li class="none"><a href="http://issues.apache.org/jira/browse/DIRMINA" class="externalLink" title="External Link">Issue Tracker</a></li><li class="none"><a href="http://wiki.apache.org/directory/MinaHome" class="externalLink" title="External Link">Wiki Pages</a></li></ul></div><div id="menuMINA_Examples"><h5>MINA Examples</h5><ul><li class="none"><a href="apidocs-examples/index.html">JavaDocs</a></li><li class="none"><a href="xref-examples/index.html">Source code</a></li></ul></div><div id="menuMINA_References"><h5>MINA References</h5><ul><li class="none"><a href="apidocs/index.html">JavaDocs</a></li><li class="none"><a href="xref/index.html">Source code</a></li><li class="none"><a href="http://svn.apache.org/viewcvs.cgi/directory/network/branches/0.8/?root=Apache-SVN" class="externalLink" title="External Link">Source code (SVN)</a></li><li class="none"><a href="http://wiki.apache.org/directory/MinaHome" class="externalLink" title="External Link">Wiki Pages</a></li></ul></div><div id="menuApacheCon_US_2005"><h5>ApacheCon US 2005</h5><ul><li class="none"><a href="http://www.apachecon.com/" class="externalLink" title="External Link"><img title="ApacheCon US 2005" style="border: 1px" src="http://apache.org/images/ac2005us_white_184x80.jpg" alt="ApacheCon US 2005"></img></a></li></ul></div><div id="menuProject_Documentation"><h5>Project Documentation</h5><ul><li class="none"><a href="index.html">About MINA</a></li><li class="collapsed"><a href="project-info.html">Project Info</a></li><li class="expanded"><a href="maven-reports.html">Project Reports</a><ul><li class="none"><a href="license.html">Project License</a></li><li class="none"><a href="apidocs/index.html" class="newWindow" title="New Window" target="_blank">JavaDocs</a></li><li class="none"><a href="javadoc.html">JavaDoc Report</a></li><li class="none"><a href="javadoc-warnings-report.html">JavaDoc Warnings Report</a></li><li class="none"><a href="apidocs-examples/index.html" class="newWindow" title="New Window" target="_blank">Example JavaDocs</a></li><li class="none"><a href="xref/index.html" class="newWindow" title="New Window" target="_blank">Source Xref</a></li><li class="none"><a href="xref-test/index.html" class="newWindow" title="New Window" target="_blank">Test Xref</a></li><li class="none"><a href="xref-examples/index.html" class="newWindow" title="New Window" target="_blank">Examples Xref</a></li><li class="none"><a href="junit-report.html">Unit Tests</a></li><li class="none"><a href="emma/index.html">Emma Coverage</a></li><li class="none"><a href="jdepend-report.html">Metrics</a></li><li class="none"><a href="simian-report.html">Simian Report</a></li><li class="none"><a href="task-list.html">Task List</a></li><li class="none"><strong><a href="faq.html">FAQs</a></strong></li></ul></li><li class="none"><a href="http://maven.apache.org/development-process.html" class="externalLink" title="External Link">Development Process</a></li></ul></div></div></div><div id="bodyColumn"><div class="contentBox"><div class="section"><a name="Frequently_Asked_Questions"></a><h2>Frequently Asked Questions</h2><p>
              <strong>General</strong>
            </p><ol>
              
              <li>
                
                
                <a href="#definition">
                  What does MINA mean?
                </a>
              </li>
              
              <li>
                
                
                <a href="#versions">
                  Which version of MINA should I use?
                </a>
              </li>
              
              <li>
                
                
                <a href="#requirements">
                  What is required to build/run MINA?
                </a>
              </li>
              
              <li>
                
                
                <a href="#support">
                  How can I get help?
                </a>
              </li>
              
              <li>
                
                
                <a href="#contribution">
                  How / What can I contribute?
                </a>
              </li>
              
            </ol><p>
              <strong>Can MINA ...?</strong>
            </p><ol>
              
              <li>
                
                
                <a href="#client-api">
                  
        Can I use MINA to create client applications?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#text-protocols">
                  
        Can MINA handle text protocols such as HTTP?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#binary-protocols">
                  
        Can MINA handle complex binary protocols such as LDAP?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#keep-alive">
                  
        Can I implement protocols that keeps connection alive with MINA?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#tls-and-sasl">
                  
        Does MINA support TLS and SASL out-of-the-box?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#handler-synchronization">
                  
        Do I need to make IoHandler and ProtocolHandler thread-safe?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#other-transport-types">
                  
        What transport types can MINA support except TCP/IP and UDP/IP?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#multicast">
                  
        Does MINA support multicast?
      
                </a>
              </li>
              
            </ol><p>
              <strong>How do I ...?</strong>
            </p><ol>
              
              <li>
                
                
                <a href="#per-session-data">
                  
        How can I store session-specific information?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#demuxing-messages">
                  
        How can I separate an event handler into multiple handlers when I
        implement complex business logic?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#reconnect-to-server">
                  
        How can I reconnect to server after my client session is closed.
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#when-use-filter">
                  
        When should I implement my protocol handler using filters?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#message-timeout">
                  
        How can I detect when the remote peer doesn't send a response message
        for my request message?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#adding-filters-per-session">
                  
        How can I add filters to a specific session or port?
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#logging-framework">
                  
        How can I let MINA log messages using my favorite logging framework (i.e. Log4J)?
      
                </a>
              </li>
              
            </ol><p>
              <strong>Troubleshooting</strong>
            </p><ol>
              
              <li>
                
                
                <a href="#connection-reset">
                  
        I get response timeout and connection reset under heavy load.
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#no-data-written">
                  
        No data is writtin out to the session even if the buffer is not empty.
      
                </a>
              </li>
              
              <li>
                
                
                <a href="#ssl-client-hangs">
                  
        I created an SSL client with MINA, but it doesn't initiate any handshake
        after the session is open.
      
                </a>
              </li>
              
            </ol></div><div class="section"><a name="General"></a><h2>General</h2><title>General</title><dl>
      <dt><a name="definition">What does MINA mean?</a></dt>
      <dd>
        <p>
          MINA is:
          <ul>
            <li>an acronym for 'Multipurporse Infrastructure for Network
                Applications'</li>
            <li>A girl's name</li>
            <li>'South' in Japanese</li>
            <li>'Mine' (as in mineshaft) in Spanish and Portuguese</li>
          </ul>
        </p>
      </dd>
    </dl><dl>
      <dt><a name="versions">Which version of MINA should I use?</a></dt>
      <dd>
        <p>
          MINA uses Linux-like version numbers.  There are currently two
          streams in MINA; 0.7 and 0.9:
          <ul>
            <li>0.7 is the first public release of MINA.</li>
            <li>0.8 is the official stable release of 0.7.</li>
            <li>0.9 has richer features and cleaner API than 0.8.</li>
            <li>1.0 is the official stable release of 0.9</li>
          </ul>
        </p>
        <p>
          Here are the general rules for choosing an appropriate release:
          <ul>
            <li>Prefer the latest release with even version numbers to with
                odd ones.</li>
            <li>Try the latest release with odd version numbers if there are
                missing features in the stable release.</li>
          </ul>
        </p>
      </dd>
    </dl><dl>
      <dt><a name="requirements">What is required to build/run MINA?</a></dt>
      <dd>
        <p>
          JDK 1.5 or above is required to build MINA.  But MINA runs perfect
          with JDK 1.4 only if you don't use SSLFilter which uses Java 5
          SSLEngine.  This means JDK 1.5 or above is required for you to
          use SSL with MINA.
        </p>
        <p>
          MINA depends on <a href="http://www.slf4j.org" class="externalLink" title="External Link">SLF4J (Simple Logging
          Facade for Java)</a>, a logging framework from the author of
          <a href="http://logging.apache.org/log4j/docs/index.html" class="externalLink" title="External Link">Log4J</a>.
          SLF4J is very similar to
          <a href="http://jakarta.apache.org/commons/logging/" class="externalLink" title="External Link">Commons-Logging</a>,
          but it doesn't cause any class loader issues at all.  SLF4J provides
          bindings for Log4J, JDK 1.4 logging API, and NLog4J.  Please put an
          appropriate SLF4J JAR file which corresponds to your favorite logging
          framework to the classpath as SLF4J documentation explains.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="support">How can I get help?</a></dt>
      <dd>
        <p>
          The primary source to get help is the documentation.  Please
          take a look at <a href="getting_started.html">Getting Started</a>
          section.
        </p>
        <p>
          You can also contact us via <a href="mail-lists.html">the mailing 
          list</a> or <a href="http://gleamynode.net/dev/forum/list.php?1" class="externalLink" title="External Link">the
          support forum</a> to ask questions on MINA or to contribute to it.
          Please do not send messages to the authors directly.
        </p>
        <p>
          If you've found some problem in MINA, please report the bug using
          <a href="http://issues.apache.org/jira/browse/DIRMINA" class="externalLink" title="External Link">our bug
          reporting system</a>.  A step-by-step instruction to reproduce the bug
          or JUnit test case code is appreciated.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="contribution">How / What can I contribute?</a></dt>
      <dd>
        <p>
          You can contribute anything related with MINA; examples, useful
          codecs for existing protocols, tutorials, feature improvements,
          bug fixes, benchmarks, and whatever.  Please contact us via
          <a href="mail-lists.html">the mailing list</a> or
          <a href="http://gleamynode.net/dev/forum/list.php?1" class="externalLink" title="External Link">the support 
          forum</a>.
        </p>
      </dd>
    </dl></div><div class="section"><a name="Can_MINA_____"></a><h2>Can MINA ...?</h2><title>Can MINA ...?</title><dl>
      <dt><a name="client-api">
        Can I use MINA to create client applications?
      </a></dt>
      <dd>
        <p>
          Yes.  You can create both client and server applications with MINA.
          Please take a look at <tt>IoConnector</tt> and
          <tt>ProtocolConnector</tt>.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="text-protocols">
        Can MINA handle text protocols such as HTTP?
      </a></dt>
      <dd>
        <p>
          Yes.  Please take a look at <a target="classFrame" href="xref-examples/org/apache/mina/examples/reverser/package-summary.html">Reverser</a> and <a target="classFrame" href="xref-examples/org/apache/mina/examples/httpserver/package-summary.html">HTTP server</a> example.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="binary-protocols">
        Can MINA handle complex binary protocols such as LDAP?
      </a></dt>
      <dd>
        <p>
          Yes.  Please take a look at <a target="classFrame" href="xref-examples/org/apache/mina/examples/sumup/package-summary.html">SumUp</a> example.
          There is also <a href="http://directory.apache.org/subprojects/asn1/" class="externalLink" title="External Link">Apache ASN.1</a> project which provides ASN.1 codec for MINA.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="keep-alive">
        Can I implement protocols that keeps connection alive with MINA?
      </a></dt>
      <dd>
        <p>
          Yes.  MINA doesn't close any connections unless you called
          <tt>Session.close()</tt> or connection is closed by the remote peer.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="tls-and-sasl">
        Does MINA support TLS and SASL out-of-the-box?
      </a></dt>
      <dd>
        <p>
          Not yet.  We're going to provide an easy way to implement TLS
          and SASL in version 0.9.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="handler-synchronization">
        Do I need to make IoHandler and ProtocolHandler thread-safe?
      </a></dt>
      <dd>
        <p>
          You don't need to do because all events generated by MINA are
          transmitted to your handlers in order, and the newer event is not
          processed if the event handler method for the older event for
          the same session didn't return yet because MINA uses leader-followers
          thread pool by default.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="other-transport-types">
        What transport types can MINA support except TCP/IP and UDP/IP?
      </a></dt>
      <dd>
        <p>
          Virtually all kind of transport types.  MINA API is designed to be
          transport-independent.  You can implement any transport type support
          only if you can conform to MINA API.  Support for Pre-1.4 I/O (aka BIO),
          reliable multicast, Java Communications API, and file I/O is planned.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="multicast">
        Does MINA support multicast?
      </a></dt>
      <dd>
        <p>
          Not yet.  Java NIO doesn't support multicast yet.  Multicast for NIO
          will be available in Java 6, Mustang.  We are seriously considering
          to implement multicasts using pre-1.4 Java API.
        </p>
      </dd>
    </dl></div><div class="section"><a name="How_do_I_____"></a><h2>How do I ...?</h2><title>How do I ...?</title><dl>
      <dt><a name="per-session-data">
        How can I store session-specific information?
      </a></dt>
      <dd>
        <p>
          Sessions are capable of custom attributes that users can add or
          remove at any time.  These custom attributes are not shared between
          sessions; it is designed to store session specific information.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="demuxing-messages">
        How can I separate an event handler into multiple handlers when I
        implement complex business logic?
      </a></dt>
      <dd>
        <p>
          Please refer to DemuxingIoHandler (or DemuxingProtocolHandler).
          <a target="classFrame" href="xref-examples/org/apache/mina/examples/sumup/package-summary.html">SumUp</a> example
          demonstrates the usage.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="reconnect-to-server">
        How can I reconnect to server after my client session is closed.
      </a></dt>
      <dd>
        <p>
          Here is an example code:

    <div class="source"><pre>
public void sessionClosed( ProtocolSession session ) throws Exception
{
    // Wait for five seconds before reconnecting; you'll have to perform
    // reconnection in other thread if you're using MINA 0.7 or 0.8.
    // (You don't need to do if you're using MINA 0.9 or above.)
    Thread.sleep( 5000 ); 
    
    // Reconnect.
    connector.connect( session.getRemoteAddress(), this );
}
</pre></div>
  
        </p>
        <p>
          Possibly it would be better to extract this code to a method like
          'reconnect()' so that it can reusable in more than one place.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="when-use-filter">
        When should I implement my protocol handler using filters?
      </a></dt>
      <dd>
        <p>
          Filters (both <tt>IoFilter</tt> and <tt>ProtocolFilter</tt>) are
          usually considered reusable just like we think Servlet filters.
          Please implement commonly used business logic such as authorization
          and logging as a filter.  In case you implement just complex
          multi-layer protocols like Kerberos, you could consider
          <a href="http://jakarta.apache.org/commons/chain/" class="externalLink" title="External Link">Apache Jakarta
          Commons Chain</a> as an alternative.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="message-timeout">
        How can I detect when the remote peer doesn't send a response message
        for my request message?
      </a></dt>
      <dd>
        You can't use <tt>sessionIdle</tt> event simply here.  You'll have to
        use <tt>java.util.Timer</tt> and <tt>java.util.TimerTask</tt> (or 
        <a href="http://www.opensymphony.com/quartz/" class="externalLink" title="External Link">OpenSymphony Quartz</a>
        as an alternative).  Schedule a timeout task to be executed on timeout
        situation for each request message, and cancel it when you receive the
        corresponding response message.
      </dd>
    </dl><dl>
      <dt><a name="adding-filters-per-session">
        How can I add filters to a specific session or port?
      </a></dt>
      <dd>
        There is <tt>IoSession.getFilterChain()</tt> and
        <tt>ProtocolSession.getFilterChain()</tt> that returns
        <tt>IoFilterChain</tt> and <tt>ProtocolFilterChain</tt> respectively.
        You can add any session-specific filters using the returned chain.
        But you cannot add port-specific filters right now.  You'll have to
        create more than one <tt>IoAcceptor</tt> or <tt>ProtocolAcceptor</tt>
        because each acceptors have one filter chain you can adjust.
      </dd>
    </dl><dl>
      <dt><a name="logging-framework">
        How can I let MINA log messages using my favorite logging framework (i.e. Log4J)?
      </a></dt>
      <dd>
        MINA depends on <a href="http://www.slf4j.org" class="externalLink" title="External Link">SLF4J (Simple Logging
        Facade for Java)</a>, a logging framework from the author of
        <a href="http://logging.apache.org/log4j/docs/index.html" class="externalLink" title="External Link">Log4J</a>.
        SLF4J is very similar to
        <a href="http://jakarta.apache.org/commons/logging/" class="externalLink" title="External Link">Commons-Logging</a>,
        but it doesn't cause any class loader issues at all.  SLF4J provides
        bindings for Log4J, JDK 1.4 logging API, and NLog4J.  Please put an
        appropriate SLF4J JAR file which corresponds to your favorite logging
        framework to the classpath as SLF4J documentation explains.
      </dd>
    </dl></div><div class="section"><a name="Troubleshooting"></a><h2>Troubleshooting</h2><title>Troubleshooting</title><dl>
      <dt><a name="connection-reset">
        I get response timeout and connection reset under heavy load.
      </a></dt>
      <dd>
        <p>
          JVM might have ran out of direct memory.  Please try increasing
          maximum direct memory size using <tt>-XX:MaxDirectMemorySize</tt>
          option (e.g. <tt>-XX:MaxDirectMemorySize=128M</tt>)
        </p>
      </dd>
    </dl><dl>
      <dt><a name="no-data-written">
        No data is writtin out to the session even if the buffer is not empty.
      </a></dt>
      <dd>
        <p>
          Please check if you called <tt>ByteBuffer.flip()</tt> to flip
          the buffer before writing the buffer out?  It is a common mistake
          NIO beginners make.
        </p>
      </dd>
    </dl><dl>
      <dt><a name="ssl-client-hangs">
        I created an SSL client with MINA, but it doesn't initiate any handshake
        after the session is open.
      </a></dt>
      <dd>
        Please make sure you called <tt>SSLFilter.setUseClientMode(true)</tt>
        before you initiate a connection.  Server developers will also have to
        disconnect users who doesn't initiate SSL handshake.
      </dd>
    </dl></div></div></div><div class="clear"><hr></hr></div><div id="footer"><div class="xright">© 2004-2005, </div><div class="clear"><hr></hr></div></div></body></html>