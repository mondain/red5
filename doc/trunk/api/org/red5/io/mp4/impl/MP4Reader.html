<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0) on Thu Oct 11 15:02:15 PDT 2012 -->
<title>MP4Reader (Red5 Server Documentation)</title>
<meta name="date" content="2012-10-11">
<link rel="stylesheet" type="text/css" href="../../../../../javadoc.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MP4Reader (Red5 Server Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MP4Reader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/red5/io/mp4/impl/MP4.html" title="class in org.red5.io.mp4.impl"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/red5/io/mp4/impl/MP4Service.html" title="class in org.red5.io.mp4.impl"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/red5/io/mp4/impl/MP4Reader.html" target="_top">Frames</a></li>
<li><a href="MP4Reader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.red5.io.mp4.impl</div>
<h2 title="Class MP4Reader" class="title">Class MP4Reader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.red5.io.mp4.impl.MP4Reader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/red5/io/flv/IKeyFrameDataAnalyzer.html" title="interface in org.red5.io.flv">IKeyFrameDataAnalyzer</a>, <a href="../../../../../org/red5/io/IoConstants.html" title="interface in org.red5.io">IoConstants</a>, <a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">MP4Reader</span>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../org/red5/io/IoConstants.html" title="interface in org.red5.io">IoConstants</a>, <a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a>, <a href="../../../../../org/red5/io/flv/IKeyFrameDataAnalyzer.html" title="interface in org.red5.io.flv">IKeyFrameDataAnalyzer</a></pre>
<div class="block">This reader is used to read the contents of an MP4 file.
 
 NOTE: This class is not implemented as thread-safe, the caller
 should ensure the thread-safety.
 <p>
 New NetStream notifications
 <br />
 Two new notifications facilitate the implementation of the playback components:
 <ul>
 <li>NetStream.Play.FileStructureInvalid: This event is sent if the player detects 
 an MP4 with an invalid file structure. Flash Player cannot play files that have 
 invalid file structures.</li>
 <li>NetStream.Play.NoSupportedTrackFound: This event is sent if the player does not 
 detect any supported tracks. If there aren't any supported video, audio or data 
 tracks found, Flash Player does not play the file.</li>
 </ul>
 </p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>The Red5 Project (red5@osflash.org), Paul Gregoire (mondain@gmail.com)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.red5.io.flv.IKeyFrameDataAnalyzer">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;org.red5.io.flv.<a href="../../../../../org/red5/io/flv/IKeyFrameDataAnalyzer.html" title="interface in org.red5.io.flv">IKeyFrameDataAnalyzer</a></h3>
<code><a href="../../../../../org/red5/io/flv/IKeyFrameDataAnalyzer.KeyFrameMeta.html" title="class in org.red5.io.flv">IKeyFrameDataAnalyzer.KeyFrameMeta</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#EMPTY_AAC">EMPTY_AAC</a></strong></code>
<div class="block">Blank AAC data</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#PREFIX_AUDIO_FRAME">PREFIX_AUDIO_FRAME</a></strong></code>
<div class="block">Audio packet prefix</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#PREFIX_VIDEO_CONFIG_FRAME">PREFIX_VIDEO_CONFIG_FRAME</a></strong></code>
<div class="block">Video packet prefix for the decoder frame</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#PREFIX_VIDEO_FRAME">PREFIX_VIDEO_FRAME</a></strong></code>
<div class="block">Video packet prefix for standard frames (interframe)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#PREFIX_VIDEO_KEYFRAME">PREFIX_VIDEO_KEYFRAME</a></strong></code>
<div class="block">Video packet prefix for key frames</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.red5.io.IoConstants">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.red5.io.<a href="../../../../../org/red5/io/IoConstants.html" title="interface in org.red5.io">IoConstants</a></h3>
<code><a href="../../../../../org/red5/io/IoConstants.html#AVC_PACKET_TYPE_END_OF_SEQUENCE">AVC_PACKET_TYPE_END_OF_SEQUENCE</a>, <a href="../../../../../org/red5/io/IoConstants.html#AVC_PACKET_TYPE_NALU">AVC_PACKET_TYPE_NALU</a>, <a href="../../../../../org/red5/io/IoConstants.html#AVC_PACKET_TYPE_SEQUENCE_HEADER">AVC_PACKET_TYPE_SEQUENCE_HEADER</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_CODEC_H263">FLAG_CODEC_H263</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_CODEC_SCREEN">FLAG_CODEC_SCREEN</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_CODEC_VP6">FLAG_CODEC_VP6</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_FORMAT_ADPCM">FLAG_FORMAT_ADPCM</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_FORMAT_MP3">FLAG_FORMAT_MP3</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_FORMAT_NELLYMOSER">FLAG_FORMAT_NELLYMOSER</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_FORMAT_NELLYMOSER_8_KHZ">FLAG_FORMAT_NELLYMOSER_8_KHZ</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_FORMAT_RAW">FLAG_FORMAT_RAW</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_FRAMETYPE_DISPOSABLE">FLAG_FRAMETYPE_DISPOSABLE</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_FRAMETYPE_GENERATED_KEYFRAME">FLAG_FRAMETYPE_GENERATED_KEYFRAME</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_FRAMETYPE_INFO">FLAG_FRAMETYPE_INFO</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_FRAMETYPE_INTERFRAME">FLAG_FRAMETYPE_INTERFRAME</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_FRAMETYPE_KEYFRAME">FLAG_FRAMETYPE_KEYFRAME</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_RATE_11_KHZ">FLAG_RATE_11_KHZ</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_RATE_22_KHZ">FLAG_RATE_22_KHZ</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_RATE_44_KHZ">FLAG_RATE_44_KHZ</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_RATE_48_KHZ">FLAG_RATE_48_KHZ</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_RATE_5_5_KHZ">FLAG_RATE_5_5_KHZ</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_SIZE_16_BIT">FLAG_SIZE_16_BIT</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_SIZE_8_BIT">FLAG_SIZE_8_BIT</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_TYPE_MONO">FLAG_TYPE_MONO</a>, <a href="../../../../../org/red5/io/IoConstants.html#FLAG_TYPE_STEREO">FLAG_TYPE_STEREO</a>, <a href="../../../../../org/red5/io/IoConstants.html#INFO_PACKET_SEEK_END">INFO_PACKET_SEEK_END</a>, <a href="../../../../../org/red5/io/IoConstants.html#INFO_PACKET_SEEK_START">INFO_PACKET_SEEK_START</a>, <a href="../../../../../org/red5/io/IoConstants.html#MASK_SOUND_FORMAT">MASK_SOUND_FORMAT</a>, <a href="../../../../../org/red5/io/IoConstants.html#MASK_SOUND_RATE">MASK_SOUND_RATE</a>, <a href="../../../../../org/red5/io/IoConstants.html#MASK_SOUND_SIZE">MASK_SOUND_SIZE</a>, <a href="../../../../../org/red5/io/IoConstants.html#MASK_SOUND_TYPE">MASK_SOUND_TYPE</a>, <a href="../../../../../org/red5/io/IoConstants.html#MASK_VIDEO_CODEC">MASK_VIDEO_CODEC</a>, <a href="../../../../../org/red5/io/IoConstants.html#MASK_VIDEO_FRAMETYPE">MASK_VIDEO_FRAMETYPE</a>, <a href="../../../../../org/red5/io/IoConstants.html#TYPE_AUDIO">TYPE_AUDIO</a>, <a href="../../../../../org/red5/io/IoConstants.html#TYPE_ENCRYPTED">TYPE_ENCRYPTED</a>, <a href="../../../../../org/red5/io/IoConstants.html#TYPE_ENCRYPTED_AUDIO">TYPE_ENCRYPTED_AUDIO</a>, <a href="../../../../../org/red5/io/IoConstants.html#TYPE_ENCRYPTED_METADATA">TYPE_ENCRYPTED_METADATA</a>, <a href="../../../../../org/red5/io/IoConstants.html#TYPE_ENCRYPTED_VIDEO">TYPE_ENCRYPTED_VIDEO</a>, <a href="../../../../../org/red5/io/IoConstants.html#TYPE_METADATA">TYPE_METADATA</a>, <a href="../../../../../org/red5/io/IoConstants.html#TYPE_VIDEO">TYPE_VIDEO</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#MP4Reader(java.io.File)">MP4Reader</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;f)</code>
<div class="block">Creates MP4 reader from file input stream, sets up metadata generation flag.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#analyzeFrames()">analyzeFrames</a></strong>()</code>
<div class="block">Performs frame analysis and generates metadata for use in seeking.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/red5/io/flv/IKeyFrameDataAnalyzer.KeyFrameMeta.html" title="class in org.red5.io.flv">IKeyFrameDataAnalyzer.KeyFrameMeta</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#analyzeKeyFrames()">analyzeKeyFrames</a></strong>()</code>
<div class="block">Analyze and return keyframe metadata.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#close()">close</a></strong>()</code>
<div class="block">Closes the reader and free any allocated memory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#decodeHeader()">decodeHeader</a></strong>()</code>
<div class="block">This handles the moov atom being at the beginning or end of the file, so the mdat may also
 be before or after the moov atom.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#getAudioCodecId()">getAudioCodecId</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#getBytesRead()">getBytesRead</a></strong>()</code>
<div class="block">Returns the amount of bytes read</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#getDuration()">getDuration</a></strong>()</code>
<div class="block">Return length in seconds</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/red5/io/IStreamableFile.html" title="interface in org.red5.io">IStreamableFile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#getFile()">getFile</a></strong>()</code>
<div class="block">Return the file that is loaded.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://mina.apache.org/report/trunk/apidocs/org/apache/mina/core/buffer/IoBuffer.html?is-external=true" title="class or interface in org.apache.mina.core.buffer">IoBuffer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#getFileData()">getFileData</a></strong>()</code>
<div class="block">Returns the file buffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#getOffset()">getOffset</a></strong>()</code>
<div class="block">Returns the offet length</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#getTotalBytes()">getTotalBytes</a></strong>()</code>
<div class="block">Get the total readable bytes in a file or IoBuffer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#getVideoCodecId()">getVideoCodecId</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#hasMoreTags()">hasMoreTags</a></strong>()</code>
<div class="block">Returns a boolean stating whether the FLV has more tags</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#hasVideo()">hasVideo</a></strong>()</code>
<div class="block">Check if the reader also has video tags.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#position(long)">position</a></strong>(long&nbsp;pos)</code>
<div class="block">Put the current position to pos.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/red5/io/ITag.html" title="interface in org.red5.io">ITag</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#readTag()">readTag</a></strong>()</code>
<div class="block">Packages media data for return to providers</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/red5/io/ITag.html" title="interface in org.red5.io">ITag</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#readTagHeader()">readTagHeader</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#setAudioCodecId(java.lang.String)">setAudioCodecId</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;audioCodecId)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/red5/io/mp4/impl/MP4Reader.html#setVideoCodecId(java.lang.String)">setVideoCodecId</a></strong>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;videoCodecId)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="PREFIX_AUDIO_FRAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREFIX_AUDIO_FRAME</h4>
<pre>public static final&nbsp;byte[] PREFIX_AUDIO_FRAME</pre>
<div class="block">Audio packet prefix</div>
</li>
</ul>
<a name="EMPTY_AAC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EMPTY_AAC</h4>
<pre>public static final&nbsp;byte[] EMPTY_AAC</pre>
<div class="block">Blank AAC data</div>
</li>
</ul>
<a name="PREFIX_VIDEO_CONFIG_FRAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREFIX_VIDEO_CONFIG_FRAME</h4>
<pre>public static final&nbsp;byte[] PREFIX_VIDEO_CONFIG_FRAME</pre>
<div class="block">Video packet prefix for the decoder frame</div>
</li>
</ul>
<a name="PREFIX_VIDEO_KEYFRAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREFIX_VIDEO_KEYFRAME</h4>
<pre>public static final&nbsp;byte[] PREFIX_VIDEO_KEYFRAME</pre>
<div class="block">Video packet prefix for key frames</div>
</li>
</ul>
<a name="PREFIX_VIDEO_FRAME">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PREFIX_VIDEO_FRAME</h4>
<pre>public static final&nbsp;byte[] PREFIX_VIDEO_FRAME</pre>
<div class="block">Video packet prefix for standard frames (interframe)</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MP4Reader(java.io.File)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MP4Reader</h4>
<pre>public&nbsp;MP4Reader(<a href="http://download.oracle.com/javase/6/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;f)
          throws <a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates MP4 reader from file input stream, sets up metadata generation flag.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>f</code> - File input stream</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="decodeHeader()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeHeader</h4>
<pre>public&nbsp;void&nbsp;decodeHeader()</pre>
<div class="block">This handles the moov atom being at the beginning or end of the file, so the mdat may also
 be before or after the moov atom.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/ITagReader.html#decodeHeader()">decodeHeader</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
</dl>
</li>
</ul>
<a name="getTotalBytes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalBytes</h4>
<pre>public&nbsp;long&nbsp;getTotalBytes()</pre>
<div class="block">Get the total readable bytes in a file or IoBuffer.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/ITagReader.html#getTotalBytes()">getTotalBytes</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Total readable bytes</dd></dl>
</li>
</ul>
<a name="hasVideo()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasVideo</h4>
<pre>public&nbsp;boolean&nbsp;hasVideo()</pre>
<div class="block">Check if the reader also has video tags.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/ITagReader.html#hasVideo()">hasVideo</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>has video</dd></dl>
</li>
</ul>
<a name="getFileData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileData</h4>
<pre>public&nbsp;<a href="http://mina.apache.org/report/trunk/apidocs/org/apache/mina/core/buffer/IoBuffer.html?is-external=true" title="class or interface in org.apache.mina.core.buffer">IoBuffer</a>&nbsp;getFileData()</pre>
<div class="block">Returns the file buffer.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>File contents as byte buffer</dd></dl>
</li>
</ul>
<a name="getFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFile</h4>
<pre>public&nbsp;<a href="../../../../../org/red5/io/IStreamableFile.html" title="interface in org.red5.io">IStreamableFile</a>&nbsp;getFile()</pre>
<div class="block">Return the file that is loaded.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/ITagReader.html#getFile()">getFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the file to be loaded</dd></dl>
</li>
</ul>
<a name="getOffset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOffset</h4>
<pre>public&nbsp;int&nbsp;getOffset()</pre>
<div class="block">Returns the offet length</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/ITagReader.html#getOffset()">getOffset</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>int</dd></dl>
</li>
</ul>
<a name="getBytesRead()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBytesRead</h4>
<pre>public&nbsp;long&nbsp;getBytesRead()</pre>
<div class="block">Returns the amount of bytes read</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/ITagReader.html#getBytesRead()">getBytesRead</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>long</dd></dl>
</li>
</ul>
<a name="getDuration()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDuration</h4>
<pre>public&nbsp;long&nbsp;getDuration()</pre>
<div class="block">Return length in seconds</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/ITagReader.html#getDuration()">getDuration</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>length in seconds</dd></dl>
</li>
</ul>
<a name="getVideoCodecId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVideoCodecId</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getVideoCodecId()</pre>
</li>
</ul>
<a name="getAudioCodecId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAudioCodecId</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getAudioCodecId()</pre>
</li>
</ul>
<a name="hasMoreTags()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasMoreTags</h4>
<pre>public&nbsp;boolean&nbsp;hasMoreTags()</pre>
<div class="block">Returns a boolean stating whether the FLV has more tags</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/ITagReader.html#hasMoreTags()">hasMoreTags</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>boolean</dd></dl>
</li>
</ul>
<a name="readTag()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readTag</h4>
<pre>public&nbsp;<a href="../../../../../org/red5/io/ITag.html" title="interface in org.red5.io">ITag</a>&nbsp;readTag()</pre>
<div class="block">Packages media data for return to providers</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/ITagReader.html#readTag()">readTag</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Tag</dd></dl>
</li>
</ul>
<a name="analyzeFrames()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzeFrames</h4>
<pre>public&nbsp;void&nbsp;analyzeFrames()</pre>
<div class="block">Performs frame analysis and generates metadata for use in seeking. All the frames
 are analyzed and sorted together based on time and offset.</div>
</li>
</ul>
<a name="position(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>position</h4>
<pre>public&nbsp;void&nbsp;position(long&nbsp;pos)</pre>
<div class="block">Put the current position to pos. The caller must ensure the pos is a valid one.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/ITagReader.html#position(long)">position</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>pos</code> - position to move to in file / channel</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes the reader and free any allocated memory.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/ITagReader.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
</dl>
</li>
</ul>
<a name="setVideoCodecId(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setVideoCodecId</h4>
<pre>public&nbsp;void&nbsp;setVideoCodecId(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;videoCodecId)</pre>
</li>
</ul>
<a name="setAudioCodecId(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAudioCodecId</h4>
<pre>public&nbsp;void&nbsp;setAudioCodecId(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;audioCodecId)</pre>
</li>
</ul>
<a name="readTagHeader()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readTagHeader</h4>
<pre>public&nbsp;<a href="../../../../../org/red5/io/ITag.html" title="interface in org.red5.io">ITag</a>&nbsp;readTagHeader()</pre>
</li>
</ul>
<a name="analyzeKeyFrames()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>analyzeKeyFrames</h4>
<pre>public&nbsp;<a href="../../../../../org/red5/io/flv/IKeyFrameDataAnalyzer.KeyFrameMeta.html" title="class in org.red5.io.flv">IKeyFrameDataAnalyzer.KeyFrameMeta</a>&nbsp;analyzeKeyFrames()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../org/red5/io/flv/IKeyFrameDataAnalyzer.html#analyzeKeyFrames()">IKeyFrameDataAnalyzer</a></code></strong></div>
<div class="block">Analyze and return keyframe metadata.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/red5/io/flv/IKeyFrameDataAnalyzer.html#analyzeKeyFrames()">analyzeKeyFrames</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/red5/io/flv/IKeyFrameDataAnalyzer.html" title="interface in org.red5.io.flv">IKeyFrameDataAnalyzer</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Metadata object</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MP4Reader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/red5/io/mp4/impl/MP4.html" title="class in org.red5.io.mp4.impl"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/red5/io/mp4/impl/MP4Service.html" title="class in org.red5.io.mp4.impl"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/red5/io/mp4/impl/MP4Reader.html" target="_top">Frames</a></li>
<li><a href="MP4Reader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Copyright &#169; 2006-2012 <a href="http://red5.org" target="_blank">The Red5 Project</a></i></small></p>
</body>
</html>
